<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COVID-19 Geospatial Analysis | Nikhil Kumar Korrapati</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        .project-detail {
            min-height: 100vh;
            padding: 100px 0 50px;
            background: var(--dark-bg);
        }
        .project-header {
            text-align: center;
            margin-bottom: 3rem;
        }
        .project-header h1 {
            font-size: 2.5rem;
            color: var(--text-primary);
            margin-bottom: 1rem;
        }
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary-color);
            text-decoration: none;
            margin-bottom: 2rem;
            transition: var(--transition);
        }
        .back-link:hover {
            gap: 1rem;
        }
        .dashboard-container {
            background: var(--dark-card);
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
        }
        #map {
            height: 500px;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        .chart-container {
            background: var(--dark-bg);
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 1.5rem;
            max-width: 100%;
            overflow: hidden;
        }
        .chart-container > div {
            max-width: 100%;
            height: 400px !important;
        }
        .project-description {
            background: var(--dark-card);
            padding: 2rem;
            border-radius: 15px;
            color: var(--text-secondary);
            line-height: 1.8;
        }
        .project-description h3 {
            color: var(--text-primary);
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <div class="project-detail">
        <div class="container">
            <a href="../index.html#projects" class="back-link">
                <i class="fas fa-arrow-left"></i> Back to Portfolio
            </a>

            <div class="project-header">
                <h1>COVID-19 Geospatial Impact Analysis</h1>
                <p style="color: var(--text-muted);">Multi-layered GIS analysis tracking pandemic spread and interventions</p>
            </div>

            <div class="dashboard-container">
                <h2 style="color: var(--text-primary); margin-bottom: 1.5rem;">Interactive Geographic Visualization</h2>
                <div id="map"></div>

                <div class="chart-container">
                    <h3 style="color: var(--text-secondary); margin-bottom: 1rem;">Case Trends Over Time</h3>
                    <div id="trendChart"></div>
                </div>

                <div class="chart-container">
                    <h3 style="color: var(--text-secondary); margin-bottom: 1rem;">Regional Impact Comparison</h3>
                    <div id="regionalChart"></div>
                </div>
            </div>

            <div class="project-description">
                <h3>Project Overview</h3>
                <p>
                    This comprehensive geospatial analysis project tracks the spread and impact of COVID-19 across 
                    multiple regions, integrating epidemiological data with geographic information systems (GIS) to 
                    reveal spatial patterns and inform public health interventions. The project combines choropleth maps, 
                    temporal animations, and comparative visualizations to tell a complete data story.
                </p>
                
                <h3 style="margin-top: 2rem;">Key Features</h3>
                <ul style="margin-left: 1.5rem; margin-top: 1rem;">
                    <li>Interactive choropleth maps showing case density by region</li>
                    <li>Temporal animations tracking spread patterns over time</li>
                    <li>Multi-layer overlays including population density and healthcare capacity</li>
                    <li>Comparative analysis of intervention effectiveness</li>
                    <li>Heatmap visualizations identifying outbreak clusters</li>
                    <li>Predictive modeling of spread trajectories</li>
                </ul>

                <h3 style="margin-top: 2rem;">Technologies Used</h3>
                <p>Python, GeoPandas, Folium, Leaflet.js, QGIS, Plotly, Shapely</p>

                <h3 style="margin-top: 2rem;">Data Sources</h3>
                <ul style="margin-left: 1.5rem; margin-top: 1rem;">
                    <li>Johns Hopkins COVID-19 Data Repository</li>
                    <li>World Health Organization (WHO)</li>
                    <li>National census and demographic data</li>
                    <li>Healthcare infrastructure databases</li>
                </ul>

                <h3 style="margin-top: 2rem;">Impact & Insights</h3>
                <p>
                    The analysis revealed strong correlations between population density, mobility patterns, and 
                    outbreak severity. Regions with early intervention measures showed 60% lower peak case rates. 
                    The visualizations were used by local health departments to allocate resources and plan 
                    intervention strategies.
                </p>
            </div>
        </div>
    </div>

    <script>
        // Initialize map
        const map = L.map('map').setView([40, -95], 4);

        L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
            attribution: '&copy; OpenStreetMap contributors &copy; CARTO',
            maxZoom: 19
        }).addTo(map);

        // Sample data for markers
        const locations = [
            { lat: 40.7128, lng: -74.0060, name: 'New York', cases: 50000 },
            { lat: 34.0522, lng: -118.2437, name: 'Los Angeles', cases: 38000 },
            { lat: 41.8781, lng: -87.6298, name: 'Chicago', cases: 28000 },
            { lat: 29.7604, lng: -95.3698, name: 'Houston', cases: 22000 },
            { lat: 33.4484, lng: -112.0740, name: 'Phoenix', cases: 18000 }
        ];

        // Add circles to map
        locations.forEach(loc => {
            const radius = Math.sqrt(loc.cases) * 50;
            L.circle([loc.lat, loc.lng], {
                color: '#ef4444',
                fillColor: '#f87171',
                fillOpacity: 0.5,
                radius: radius
            }).addTo(map)
            .bindPopup(`<b>${loc.name}</b><br>Cases: ${loc.cases.toLocaleString()}`);
        });

        // Trend Chart
        const dates = [];
        const cases = [];
        for (let i = 0; i < 365; i++) {
            const date = new Date(2020, 0, 1);
            date.setDate(date.getDate() + i);
            dates.push(date.toISOString().slice(0, 10));
            cases.push(Math.floor(1000 * Math.exp(i / 60) + Math.random() * 5000));
        }

        const trendTrace = {
            x: dates,
            y: cases,
            type: 'scatter',
            mode: 'lines',
            fill: 'tozeroy',
            line: { color: '#ef4444', width: 2 },
            fillcolor: 'rgba(239, 68, 68, 0.2)'
        };

        const trendLayout = {
            paper_bgcolor: '#0f172a',
            plot_bgcolor: '#0f172a',
            font: { color: '#cbd5e1' },
            xaxis: { gridcolor: '#1e293b' },
            yaxis: { title: 'Total Cases', gridcolor: '#1e293b' },
            margin: { t: 20, b: 60, l: 60, r: 20 },
            autosize: true
        };

        Plotly.newPlot('trendChart', [trendTrace], trendLayout, {responsive: true, displayModeBar: false});

        // Regional Comparison
        const regions = ['Northeast', 'Southeast', 'Midwest', 'Southwest', 'West'];
        const regionalCases = [125000, 98000, 87000, 76000, 115000];

        const regionalTrace = {
            x: regions,
            y: regionalCases,
            type: 'bar',
            marker: {
                color: regionalCases,
                colorscale: [[0, '#4facfe'], [1, '#ef4444']]
            }
        };

        const regionalLayout = {
            paper_bgcolor: '#0f172a',
            plot_bgcolor: '#0f172a',
            font: { color: '#cbd5e1' },
            xaxis: { gridcolor: '#1e293b' },
            yaxis: { title: 'Total Cases', gridcolor: '#1e293b' },
            margin: { t: 20, b: 60, l: 60, r: 20 },
            autosize: true
        };

        Plotly.newPlot('regionalChart', [regionalTrace], regionalLayout, {responsive: true, displayModeBar: false});
    </script>
</body>
</html>
